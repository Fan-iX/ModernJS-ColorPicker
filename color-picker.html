<!DOCTYPE html> <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <style>body{ margin:0 auto;padding:0;width:900px;}#wrapper{ margin-top:10px;position:relative;display:inline-block;width:100%;}#colorPanel{ position:absolute;top:0;left:30px;width:300px;height:300px;outline:2px solid #aaa;cursor:crosshair;}#colorPanel::before{ position:absolute;height:300px;width:300px;content:"";}#colorPanel.RGB-R{ background-blend-mode:screen;background-image:linear-gradient(to right, #000, #0f0);}#colorPanel.RGB-R::before{ mix-blend-mode:screen;background:linear-gradient(to top, #000, #00f);}#colorPanel.RGB-G{ background-blend-mode:screen;background-image:linear-gradient(to right, #000, #00f);}#colorPanel.RGB-G::before{ mix-blend-mode:screen;background:linear-gradient(to top, #000, #f00);}#colorPanel.RGB-B{ background-blend-mode:screen;background-image:linear-gradient(to right, #000, #f00);}#colorPanel.RGB-B::before{ mix-blend-mode:screen;background:linear-gradient(to top, #000, #0f0);}#colorPanel.HSV-H{ background-image:linear-gradient(to right, #fff, transparent);}#colorPanel.HSV-H::before{ background:linear-gradient(to top, #000, transparent);}#colorPanel.HSV-S{ background-blend-mode:screen;background-image:linear-gradient(to right, #f00, #ff0, #0f0, #0ff, #00f, #f0f, #f00);}#colorPanel.HSV-S::before{ background:linear-gradient(to top, #000, transparent);}#colorPanel.HSV-V::before{ mix-blend-mode:multiply;background-color:#fff;background-image:linear-gradient(to right, #f00, #ff0, #0f0, #0ff, #00f, #f0f, #f00);-webkit-mask:linear-gradient(to top, transparent, #fff);mask:linear-gradient(to top, transparent, #fff);}.colorPanel-cursor{ position:relative;transform:translate(-50%, -50%);outline:1px solid #ddd;border-radius:50%;width:9px;height:9px;cursor:default;cursor:crosshair;pointer-events:none;}#coordinate .slider-v{ height:300px;width:15px;}#coordinate .slider-h{ height:15px;width:300px;}#colorPanel-xAxis{ position:absolute;top:315px;left:30px;}#colorPanel-yAxis{ position:absolute;top:0;left:0;}#alpha-alpha{ position:absolute;left:870px;height:315px;width:15px;}#wheel{ width:280px;height:200px;position:absolute;left:350px;top:0px;writing-mode:vertical-lr;}#colorWheel{ height:200px;width:200px;background:conic-gradient(from 90deg, #f00, #f0f, #00f, #0ff, #0f0, #ff0, #f00);border-radius:50%;outline:2.5px solid #aaa;cursor:crosshair;}#colorWheel::before{ height:200px;width:200px;content:"";position:absolute;border-radius:50%;background:#7f7f7f;-webkit-mask:radial-gradient(100px 100px at center, #fff, transparent);mask:radial-gradient(100px 100px at center, #fff, transparent);}#colorWheel-cover{ pointer-events:none;position:absolute;height:200px;width:200px;border-radius:50%;}.slider-v, .slider-h{ outline:1px solid #bbb;}#wheel .slider-v{ width:20px;height:200px;margin-left:10px;}#sliderPanel{ position:absolute;left:670px;top:0px;width:190px;}#sliderPanel .slider-h{ height:15px;margin-bottom:19px;}.slider-block{ position:relative;pointer-events:none;outline:1px solid #eee;}.slider-h .slider-block{ height:100%;margin-top:1px;width:0;}.slider-cursor{ position:relative;box-sizing:border-box;border-width:4px;border-style:solid;pointer-events:none;}.slider-h .slider-cursor{ margin:0 -4px;width:0px;height:100%;border-color:#eee transparent;}.slider-v .slider-cursor{ margin:-4px 0;width:100%;height:0;border-color:transparent #eee;}#HSV-S{ background-color:#000;}#HSV-V{ background-image:linear-gradient(to right, #000, transparent);}#sliderPanel .slider-h:before{ display:block;float:left;margin-left:-18px;margin-top:-1px;color:#333;font-family:consolas;font-size:15px;line-height:15px;cursor:default;}#RGB-R:before{ content:'R';}#RGB-G:before{ content:'G';}#RGB-B:before{ content:'B';}#HSV-H:before{ content:'H';}#HSV-S:before{ content:'S';}#HSV-V:before{ content:'V';}.dark .colorPanel-cursor, .dark .slider-block{ outline-color:#333;}.dark .slider-v .slider-cursor{ border-color:transparent #333;}.dark .slider-h .slider-cursor{ border-color:#333 transparent;}#patches{ user-select:none;text-align:center;position:absolute;width:280px;height:100px;left:350px;top:220px;}#contrastPatch{ width:100%;height:35px;text-align:center;font-family:consolas;border:1px solid #ccc;cursor:default;display:flex;justify-content:space-around;align-items:center;}#contrastPatch div{ position:relative;width:10ex;text-align:left;}#contrastPatch div:nth-child(1){ color:white;}#contrastPatch div:nth-child(2){ color:black;}.contrastPatch2{ display:inline-block;width:95px;height:55px;border:5px solid ;margin:10px 15px;font-family:consolas;outline:1px solid #ccc;cursor:default;}#contrastPatch2White{ border-color:#fff;background-color:#fff;}#contrastPatch2Black{ border-color:#000;background-color:#000 }.contrastPatch2 span{ width:100%;height:100%;display:flex;justify-content:center;align-items:center;}.contrastPatch2 span:hover{ color:#aaa;mix-blend-mode:difference;}#colorValues{ position:absolute;left:650px;top:195px;width:210px;font-family:consolas;border:1px solid #ccc;padding:2px 0px 2px 4px;box-sizing:border-box;font-size:14px;white-space:pre-wrap;line-height:16px;cursor:default;user-select:none;}input[type="search"]::-webkit-search-cancel-button{ display:none;}#colorInput{ position:absolute;left:650px;height:20px;width:210px;top:315px }#colorSquares{ position:absolute;width:100%;padding:5px;top:340px;transition:background-color 0.5s;}#colorSquares div{ text-align:center;width:11em;margin-left:6px;float:left;border:1pt solid black;color:black;font-size:small;font-weight:bold;margin:0.1em;user-select:none;cursor:default;}#colorSquares div:hover{ border-color:white;color:white;}</style> <title>Color Picker</title> </head> <body> <div id="wrapper"> <div id="patches"> <div id="contrastPatch"> <div></div> <div></div> </div> <div id="contrastPatch2White" class="contrastPatch2"><span></span></div> <div id="contrastPatch2Black" class="contrastPatch2"><span></span></div> </div> <div id="coordinate"> <div id="colorPanel" class="RGB-R"> <div class="colorPanel-cursor"></div> </div> <div id="colorPanel-xAxis" class="slider-h"><div class="slider-cursor"></div></div> <div id="colorPanel-yAxis" class="slider-v"><div class="slider-cursor"></div></div> </div> <div id="wheel"> <div id="colorWheel"> <div id="colorWheel-cover"></div> <div class="colorPanel-cursor"></div> </div> <div class="slider-v" id="HSL-S"><div class="slider-cursor"></div></div> <div class="slider-v" id="HSL-L"><div class="slider-cursor"></div></div> </div> <div id="sliderPanel"> <div class="slider-h" id="RGB-R"><div class="slider-block"></div></div> <div class="slider-h" id="RGB-G"><div class="slider-block"></div></div> <div class="slider-h" id="RGB-B"><div class="slider-block"></div></div> <div class="slider-h" id="HSV-H"><div class="slider-block"></div></div> <div class="slider-h" id="HSV-S"><div class="slider-block"></div></div> <div class="slider-h" id="HSV-V"><div class="slider-block"></div></div> </div> <div id="alpha-alpha" class="slider-v"><div class="slider-cursor"></div></div> <div id="colorSquares"></div> <div id="colorValues" tabindex="1"></div> <input id="colorInput" type="search"> </div> <script type="text/javascript">(function () {
    let cssColors = {
        "aliceblue": "#f0f8ff", "antiquewhite": "#faebd7", "aqua": "#00ffff", "aquamarine": "#7fffd4",
        "azure": "#f0ffff", "beige": "#f5f5dc", "bisque": "#ffe4c4", "black": "#000000",
        "blanchedalmond": "#ffebcd", "blue": "#0000ff", "blueviolet": "#8a2be2", "brown": "#a52a2a",
        "burlywood": "#deb887", "cadetblue": "#5f9ea0", "chartreuse": "#7fff00", "chocolate": "#d2691e",
        "coral": "#ff7f50", "cornflowerblue": "#6495ed", "cornsilk": "#fff8dc", "crimson": "#dc143c",
        "cyan": "#00ffff", "darkblue": "#00008b", "darkcyan": "#008b8b", "darkgoldenrod": "#b8860b",
        "darkgray": "#a9a9a9", "darkgrey": "#a9a9a9", "darkgreen": "#006400", "darkkhaki": "#bdb76b",
        "darkmagenta": "#8b008b", "darkolivegreen": "#556b2f", "darkorange": "#ff8c00", "darkorchid": "#9932cc",
        "darkred": "#8b0000", "darksalmon": "#e9967a", "darkseagreen": "#8fbc8f", "darkslateblue": "#483d8b",
        "darkslategray": "#2f4f4f", "darkslategrey": "#2f4f4f", "darkturquoise": "#00ced1", "darkviolet": "#9400d3",
        "deeppink": "#ff1493", "deepskyblue": "#00bfff", "dimgray": "#696969", "dimgrey": "#696969",
        "dodgerblue": "#1e90ff", "firebrick": "#b22222", "floralwhite": "#fffaf0", "forestgreen": "#228b22",
        "fuchsia": "#ff00ff", "gainsboro": "#dcdcdc", "ghostwhite": "#f8f8ff", "gold": "#ffd700",
        "goldenrod": "#daa520", "gray": "#808080", "grey": "#808080", "green": "#008000",
        "greenyellow": "#adff2f", "honeydew": "#f0fff0", "hotpink": "#ff69b4", "indianred": "#cd5c5c",
        "indigo": "#4b0082", "ivory": "#fffff0", "khaki": "#f0e68c", "lavender": "#e6e6fa",
        "lavenderblush": "#fff0f5", "lawngreen": "#7cfc00", "lemonchiffon": "#fffacd", "lightblue": "#add8e6",
        "lightcoral": "#f08080", "lightcyan": "#e0ffff", "lightgoldenrodyellow": "#fafad2", "lightgray": "#d3d3d3",
        "lightgrey": "#d3d3d3", "lightgreen": "#90ee90", "lightpink": "#ffb6c1", "lightsalmon": "#ffa07a",
        "lightseagreen": "#20b2aa", "lightskyblue": "#87cefa", "lightslategray": "#778899", "lightslategrey": "#778899",
        "lightsteelblue": "#b0c4de", "lightyellow": "#ffffe0", "lime": "#00ff00", "limegreen": "#32cd32",
        "linen": "#faf0e6", "magenta": "#ff00ff", "maroon": "#800000", "mediumaquamarine": "#66cdaa",
        "mediumblue": "#0000cd", "mediumorchid": "#ba55d3", "mediumpurple": "#9370d8", "mediumseagreen": "#3cb371",
        "mediumslateblue": "#7b68ee", "mediumspringgreen": "#00fa9a", "mediumturquoise": "#48d1cc", "mediumvioletred": "#c71585",
        "midnightblue": "#191970", "mintcream": "#f5fffa", "mistyrose": "#ffe4e1", "moccasin": "#ffe4b5",
        "navajowhite": "#ffdead", "navy": "#000080", "oldlace": "#fdf5e6", "olive": "#808000",
        "olivedrab": "#6b8e23", "orange": "#ffa500", "orangered": "#ff4500", "orchid": "#da70d6",
        "palegoldenrod": "#eee8aa", "palegreen": "#98fb98", "paleturquoise": "#afeeee", "palevioletred": "#d87093",
        "papayawhip": "#ffefd5", "peachpuff": "#ffdab9", "peru": "#cd853f", "pink": "#ffc0cb",
        "plum": "#dda0dd", "powderblue": "#b0e0e6", "purple": "#800080", "rebeccapurple": "#663399",
        "red": "#ff0000", "rosybrown": "#bc8f8f", "royalblue": "#4169e1", "saddlebrown": "#8b4513",
        "salmon": "#fa8072", "sandybrown": "#f4a460", "seagreen": "#2e8b57", "seashell": "#fff5ee",
        "sienna": "#a0522d", "silver": "#c0c0c0", "skyblue": "#87ceeb", "slateblue": "#6a5acd",
        "slategray": "#708090", "slategrey": "#708090", "snow": "#fffafa", "springgreen": "#00ff7f",
        "steelblue": "#4682b4", "tan": "#d2b48c", "teal": "#008080", "thistle": "#d8bfd8", "tomato": "#ff6347",
        "turquoise": "#40e0d0", "violet": "#ee82ee", "wheat": "#f5deb3", "white": "#ffffff",
        "whitesmoke": "#f5f5f5", "yellow": "#ffff00", "yellowgreen": "#9acd32"
    }

    let _valueRanges = {
        RGB: { R: [0, 255], G: [0, 255], B: [0, 255] },
        HSV: { H: [0, 360], S: [0, 100], V: [0, 100] },
        HSL: { H: [0, 360], S: [0, 100], L: [0, 100] },
        CMY: { C: [0, 100], M: [0, 100], Y: [0, 100] },
        CMYK: { C: [0, 100], M: [0, 100], Y: [0, 100], K: [0, 100] },
        XYZ: { X: [0, 0.95047], Y: [0, 1], Z: [0, 1.08883] },
        Lab: { L: [0, 100], a: [-127, 127], b: [-127, 127] },
        Alpha: { alpha: [0, 1] }
    }

    let _fullName = {
        rgb: "RGB", hsv: "HSV", hsl: "HSL", cmy: "CMY", cmyk: "CMYK",
        xyz: "XYZ", lab: "Lab", alpha: "Alpha"
    }

    function _limitValue(value, range) {
        return (value > range[1] ? range[1] : value < range[0] ? range[0] : value);
    }

    class Color {
        constructor(color = "#fff", model) {
            this.setValue({ r: 0, g: 0, b: 0 })
            this.background = {}
            this.setBackground("#fff")
            this.setColor(color, model)
            this.alpha = 1
        }

        static cssColors = cssColors

        parse(color, model) {
            if (!color) return
            if (model && !(_fullName[model] || _valueRanges[model])) throw "Invalid color model"
            if (typeof color == "string") {
                if (cssColors[color]) color = cssColors[color]
                let m = color.match(/\s*(.*)\((.*)\)/)
                if (m) {
                    model = m[1].trim()
                    let _model = model.replace(/a$/, "")
                    if (!(_fullName[_model] || _valueRanges[_model])) throw "Invalid color model"
                    model = _fullName[_model] || _model
                    _model = model.split("")
                    if (m[1].trim().slice(-1).toLowerCase() == "a") _model.push("alpha")
                    color = m[2].split(",").reduce((obj, v, i) => (obj[_model[i]] = +v, obj), {})
                } else {
                    color = this.HEX2RGB(color)
                    model = "RGB"
                }
            }
            if (model == "alpha") model = "RGB"

            let alpha = color.alpha == 0 ? 0 : color.alpha || 1
            alpha = _limitValue(alpha, [0, 1])

            let _color = {}
            for (let channel of model) {
                _color[channel] = color[channel] || (this[model] && this[model][channel]) || 0
                if (color[channel] == 0) _color[channel] = 0
                _color[channel] = _limitValue(_color[channel], _valueRanges[model] ? _valueRanges[model][channel] : [0, 1])
            }
            _color.alpha = alpha
            return [_color, model]
        }

        parseStrict(color, model) {
            let _color = {}
            for (let channel of model) {
                _color[channel] = color[channel] || (this[model] && this[model][channel]) || 0
                if (color[channel] == 0) _color[channel] = 0
                _color[channel] = _limitValue(_color[channel], _valueRanges[model] ? _valueRanges[model][channel] : [0, 1])
            }
            return _color
        }

        setColor(color, model) {
            [color, model] = this.parse(color, model);
            [color, model] = this.scale(color, -1);
            this[model] = this.parseStrict(color, model);
            if (model == "hsl") this.hsv.h = color.h
            let rgb = this[model + "2rgb"](color)
            this.setValue(rgb)
            return (this)
        }

        setValue(rgb, alpha) {
            this.alpha = alpha || (rgb && rgb.alpha) || this.alpha
            if (alpha == 0 || (rgb && rgb.alpha) == 0) this.alpha = 0
            this.Alpha = Math.round(this.alpha * 100) / 100
            if (rgb) {
                rgb = { r: rgb.r, g: rgb.g, b: rgb.b }
                for (let model of ["rgb", "hsv", "hsl", 'lab', "xyz", "cmy", "cmyk"]) {
                    this[model] = this["rgb2" + model](rgb)
                }
                for (let model of ["RGB", "HSV", "HSL", 'Lab', "XYZ", "CMY", "CMYK"]) {
                    this[model] = this.scale(this[model.toLowerCase()])[0]
                }
                this.HEX = this.RGB2HEX(this.RGB, this.alpha)
                this.Luminance = this.getLuminance(rgb)
                this.EquivalentGray = this.getEquivalentGray(rgb)
                this.hueRGB = this.scale(this.hsv2rgb({ h: this.hsv.h, s: 1, v: 1 }), 1)[0]
                this.cssName = Object.keys(cssColors).filter(x => cssColors[x] == "#" + this.HEX.toLowerCase())[0]
            }
        }

        setBackground(color, model) {
            [color, model] = this.parse(color, model);
            [color, model] = this.scale(color, -1);
            this.background.alpha = color.alpha
            let rgb = this[model + "2rgb"](color)
            this.background.rgb = rgb
            this.background.RGB = this.scale(rgb, 1)[0]
        }
        saveAsBackground() {
            this.background.rgb = this.rgb
            this.background.RGB = this.RGB
            this.background.alpha = this.alpha
        }

        scale(value, scaleTo = 0, noAlpha) {
            let alpha = value.alpha
            delete value.alpha
            let modelFrom, modelTo, _model, _value = {}
            if (typeof scaleTo == "string") {
                if (!(_fullName[scaleTo] || _valueRanges[scaleTo])) throw "Invalid color model"
                modelFrom = _fullName[scaleTo] || scaleTo.toLowerCase()
            } else {
                modelFrom = Object.keys(value)
                _model = Object.keys(_valueRanges).filter((m) => modelFrom.every((x) => m.includes(x)))[0]
                if (_model) modelTo = (modelFrom = _model).toLowerCase()
                else {
                    _model = Object.keys(_fullName).filter((m) => modelFrom.every((x) => m.includes(x)))[0]
                    if (_model) modelTo = _fullName[modelFrom = _model]
                }
                if (!modelTo) throw "Invalid color model"
                if (scaleTo == 1) modelTo = _fullName[modelTo] || modelTo
                if (scaleTo == -1) modelTo = modelTo.toLowerCase()
            }
            if (modelFrom == modelTo) {
                for (let channel of modelFrom) _value[channel] = value[channel]
            } else if (modelTo == modelTo.toLowerCase()) {
                for (let channel of modelFrom) {
                    let range = _valueRanges[modelFrom][channel]
                    _value[channel.toLowerCase()] = (value[channel] - range[0]) / (range[1] - range[0])
                }
            } else {
                for (let channel of modelTo) {
                    let range = _valueRanges[modelTo][channel]
                    _value[channel] = range[0] + value[channel.toLowerCase()] * (range[1] - range[0])
                    if (["RGB", "HSV", "HSL", "CMY", "CMYK"].includes(modelTo))
                        _value[channel] = Math.round(_value[channel])
                    if (["XYZ", "Lab"].includes(modelTo))
                        _value[channel] = Math.round(_value[channel] * 100) / 100
                }
            }
            if (alpha && !noAlpha) _value.alpha = alpha
            return [_value, modelTo]
        }

        getLuminance(rgb) {
            var rgb = this.scale(rgb, -1)[0]
            rgb = [rgb.r, rgb.g, rgb.b].map((c) => c <= 0.03928 ? c / 12.92 : Math.pow(((c + 0.055) / 1.055), 2.4))
            return 0.2126 * rgb[0] + 0.7152 * rgb[1] + 0.0722 * rgb[2];
        }

        getEquivalentGray(rgb) {
            var rgb = this.scale(rgb, -1)[0]
            return 0.298954 * rgb.r + 0.586434 * rgb.g + 0.114612 * rgb.b;
        }

        HEX2RGB(HEX) {
            HEX = HEX.replace(/^#+/, "")
            if ([1, 3, 4].includes(HEX.length)) HEX = HEX.split("").map(x => x + x).join("")
            return {
                R: +('0x' + HEX.slice(0, 2)),
                G: +('0x' + (HEX.slice(2, 4) || HEX.slice(0, 2))),
                B: +('0x' + (HEX.slice(4, 6) || HEX.slice(0, 2))),
                alpha: +('0x' + (HEX.slice(6, 8) || "ff")) / 255
            };
        }

        RGB2HEX(RGB, alpha = 1) {
            alpha = Math.round(alpha * 255)
            return (
                RGB.R.toString(16).padStart(2, "0") +
                RGB.G.toString(16).padStart(2, "0") +
                RGB.B.toString(16).padStart(2, "0") +
                (alpha == 255 ? "" : alpha.toString(16).padStart(2, "0"))
            ).toUpperCase();
        }

        rgb2rgb(rgb) { return rgb }

        rgb2hsv(rgb) {
            var r = rgb.r, g = rgb.g, b = rgb.b,
                k = 0, chroma, min, s;

            if (g < b) {
                g = b + (b = g, 0);
                k = -1;
            }
            min = b;
            if (r < g) {
                r = g + (g = r, 0);
                k = -2 / 6 - k;
                min = Math.min(g, b);
            }
            chroma = r - min;
            s = r ? (chroma / r) : (this.hsv && this.hsv.s) || 0;
            return {
                h: s < 1e-15 ? (this.hsv && this.hsv.h) || 0 :
                    chroma ? Math.abs(k + (g - b) / (6 * chroma)) || (1 - this.hsv.h < 0.5 ? 1 : 0) : (this.hsv && this.hsv.h) || 0,
                s: s,
                v: r
            };
        }

        hsv2rgb(hsv) {
            var h = hsv.h * 6,
                s = hsv.s,
                v = hsv.v,
                i = Math.floor(h),
                f = h - i,
                p = v * (1 - s),
                q = v * (1 - f * s),
                t = v * (1 - (1 - f) * s),
                mod = i % 6;

            return {
                r: [v, q, p, p, t, v][mod],
                g: [t, v, v, q, p, p][mod],
                b: [p, p, t, v, v, q][mod]
            };
        }

        hsv2hsl(hsv) {
            var l = (2 - hsv.s) * hsv.v,
                s = (l == 0 || l == 2) ? (this.hsl && this.hsl.s) || 0 : hsv.s * hsv.v / Math.min(l, 2 - l);

            return {
                h: hsv.h,
                s: s,
                l: l / 2
            };
        }

        hsl2hsv(hsl) {
            var v = hsl.l + hsl.s * Math.min(hsl.l, 1 - hsl.l),
                s = !v ? (this.hsl && this.hsl.s) || 0 : 2 - 2 * hsl.l / v
            return { h: hsl.h, s: s, v: v }
        }

        hsl2rgb(hsl) {
            return this.hsv2rgb(this.hsl2hsv(hsl))
        }

        rgb2hsl(rgb) {
            return this.hsv2hsl(this.rgb2hsv(rgb))
        }


        cmy2cmyk(cmy) {
            var k = Math.min(Math.min(cmy.c, cmy.m), cmy.y),
                t = 1 - k || -1;
            return {
                c: (cmy.c - k) / t,
                m: (cmy.m - k) / t,
                y: (cmy.y - k) / t,
                k: k
            };
        }

        rgb2cmy(rgb) {
            return {
                c: 1 - rgb.r,
                m: 1 - rgb.g,
                y: 1 - rgb.b
            };
        }

        cmy2rgb(cmy) {
            return {
                r: 1 - cmy.c,
                g: 1 - cmy.m,
                b: 1 - cmy.y
            };
        }

        cmyk2cmy(cmyk) {
            var k = cmyk.k;

            return {
                c: cmyk.c * (1 - k) + k,
                m: cmyk.m * (1 - k) + k,
                y: cmyk.y * (1 - k) + k
            };
        }

        cmyk2rgb(cmyk) {
            return this.cmy2rgb(this.cmyk2cmy(cmyk))
        }

        rgb2cmyk(rgb) {
            return this.cmy2cmyk(this.rgb2cmy(rgb))
        }

        xyz2rgb(xyz) {
            var M = {
                R: [3.2404542, -1.5371385, -0.4985314],
                G: [-0.9692660, 1.8760108, 0.0415560],
                B: [0.0556434, -0.2040259, 1.0572252]
            },
                X = xyz.x * 0.95047,
                Y = xyz.y,
                Z = xyz.z * 1.08883,
                r = X * M.R[0] + Y * M.R[1] + Z * M.R[2],
                g = X * M.G[0] + Y * M.G[1] + Z * M.G[2],
                b = X * M.B[0] + Y * M.B[1] + Z * M.B[2],
                N = 1 / 2.4;

            M = 0.0031308;

            r = (r > M ? 1.055 * Math.pow(r, N) - 0.055 : 12.92 * r);
            g = (g > M ? 1.055 * Math.pow(g, N) - 0.055 : 12.92 * g);
            b = (b > M ? 1.055 * Math.pow(b, N) - 0.055 : 12.92 * b);

            return {
                r: _limitValue(r, [0, 1]),
                g: _limitValue(g, [0, 1]),
                b: _limitValue(b, [0, 1])
            };
        }

        rgb2xyz(rgb) {
            var M = {
                X: [0.4124564, 0.3575761, 0.1804375],
                Y: [0.2126729, 0.7151522, 0.0721750],
                Z: [0.0193339, 0.1191920, 0.9503041]
            },
                r = rgb.r,
                g = rgb.g,
                b = rgb.b,
                N = 0.04045;

            r = (r > N ? Math.pow((r + 0.055) / 1.055, 2.4) : r / 12.92);
            g = (g > N ? Math.pow((g + 0.055) / 1.055, 2.4) : g / 12.92);
            b = (b > N ? Math.pow((b + 0.055) / 1.055, 2.4) : b / 12.92);

            return {
                x: (r * M.X[0] + g * M.X[1] + b * M.X[2]) / 0.95047,
                y: (r * M.Y[0] + g * M.Y[1] + b * M.Y[2]),
                z: (r * M.Z[0] + g * M.Z[1] + b * M.Z[2]) / 1.08883
            };
        }

        xyz2lab(xyz) {
            var X = xyz.x,
                Y = xyz.y,
                Z = xyz.z,
                N = 16 / 116, M = 1 / 3, K = 0.008856, L = 7.787037;

            X = X > K ? Math.pow(X, M) : (L * X) + N;
            Y = Y > K ? Math.pow(Y, M) : (L * Y) + N;
            Z = Z > K ? Math.pow(Z, M) : (L * Z) + N;

            return {
                l: _limitValue((1.16 * Y) - 0.16, [0, 1]),
                a: 1.953125 * (X - Y) + 0.5,
                b: 0.78125 * (Y - Z) + 0.5
            };
        }

        lab2xyz(Lab) {
            var Y = (Lab.l * 100 + 16) / 116,
                X = (Lab.a - 0.5) * 0.512 + Y,
                Z = Y - (Lab.b - 0.5) * 1.28,
                X3 = Math.pow(X, 3),
                Y3 = Math.pow(Y, 3),
                Z3 = Math.pow(Z, 3),
                N = 16 / 116, K = 0.008856, L = 7.787037;

            return {
                x: (X3 > K ? X3 : (X - N) / L),
                y: (Y3 > K ? Y3 : (Y - N) / L),
                z: (Z3 > K ? Z3 : (Z - N) / L)
            };
        }

        rgb2lab(rgb) {
            return this.xyz2lab(this.rgb2xyz(rgb));
        }

        lab2rgb(Lab) {
            return this.xyz2rgb(this.lab2xyz(Lab));
        }
    }
    window.Color = Color
})()</script> <script type="text/javascript">(function () {
 let valueRanges = {
  RGB: { R: 255, G: 255, B: 255 },
  HSL: { H: 360, S: 100, L: 100 },
  HSV: { H: 360, S: 100, V: 100 },
  alpha: { alpha: 1 }
 }, panelAxis = {
  "RGB-R": { x: 'G', y: 'B' },
  "RGB-G": { x: 'B', y: 'R' },
  "RGB-B": { x: 'R', y: 'G' },
  "HSV-H": { x: 'S', y: 'V' },
  "HSV-S": { x: 'H', y: 'V' },
  "HSV-V": { x: 'H', y: 'S' }
 },
  startPoint, currentTarget,
  colorWheel = document.getElementById('colorWheel'),
  colorPanel = document.getElementById('colorPanel'),

  sliderPanel = document.getElementById('sliderPanel'),
  sliderRgbR = document.getElementById('RGB-R'),
  sliderRgbG = document.getElementById('RGB-G'),
  sliderRgbB = document.getElementById('RGB-B'),
  sliderHsvH = document.getElementById('HSV-H'),
  sliderHsvV = document.getElementById('HSV-V'),
  sliderHsvS = document.getElementById('HSV-S'),

  sliderHslL = document.getElementById('HSL-L'),
  sliderHslS = document.getElementById('HSL-S'),

  sliderXAxis = document.getElementById('colorPanel-xAxis'),
  sliderYAxis = document.getElementById('colorPanel-yAxis'),
  sliderAlphaA = document.getElementById('alpha-alpha'),

  wrapper = document.getElementById('wrapper'),
  contrastPatch = document.getElementById('contrastPatch'),
  contrastPatch2White = document.getElementById('contrastPatch2White'),
  contrastPatch2Black = document.getElementById('contrastPatch2Black'),
  colorValues = document.getElementById('colorValues'),
  colorSquares = document.getElementById('colorSquares'),
  colorWheelCover = document.getElementById('colorWheel-cover'),
  colorWheelCursor = colorWheel.children[1],
  colorPanelCursor = colorPanel.children[0],
  colorInput = document.getElementById('colorInput'),
  colorWheelRadius = colorWheel.offsetHeight / 2,
  curColor = window.curColor = new Color("deepskyblue")
 contrastPatch.onclick = () => { curColor.saveAsBackground(); doRender(curColor) }
 contrastPatch2Black.onclick = () => { curColor.setBackground("#000"); doRender(curColor) }
 contrastPatch2White.onclick = () => { curColor.setBackground("#fff"); doRender(curColor) }
 colorValues.onmousedown = colorValues.onfocus = () => { colorValues.style.userSelect = "auto" }
 colorValues.onblur = () => { colorValues.style.userSelect = "none" }

 [
  'lightpink', 'slateblue', 'cyan', 'lightgreen', 'floralwhite', 'coral',
  'pink', 'darkslateblue', 'darkturquoise', 'darkseagreen', 'wheat', 'darksalmon',
  'crimson', 'blue', 'darkcyan', 'honeydew', 'oldlace', 'tomato',
  'palevioletred', 'mediumblue', 'teal', 'chartreuse', 'orange', 'salmon',
  'lavenderblush', 'darkblue', 'darkslategray', 'lawngreen', 'moccasin', 'mistyrose',
  'hotpink', 'navy', 'paleturquoise', 'greenyellow', 'papayawhip', 'red',
  'deeppink', 'midnightblue', 'lightcyan', 'darkolivegreen', 'blanchedalmond', 'darkred',
  'mediumvioletred', 'lavender', 'azure', 'yellowgreen', 'navajowhite', 'maroon',
  'orchid', 'ghostwhite', 'mediumturquoise', 'olivedrab', 'tan', 'firebrick',
  'fuchsia', 'royalblue', 'lightseagreen', 'yellow', 'antiquewhite', 'brown',
  'magenta', 'cornflowerblue', 'turquoise', 'olive', 'burlywood', 'indianred',
  'darkmagenta', 'lightsteelblue', 'aquamarine', 'lightgoldenrodyellow', 'darkorange', 'lightcoral',
  'purple', 'lightslategray', 'mediumaquamarine', 'lightyellow', 'bisque', 'rosybrown',
  'violet', 'slategray', 'mediumspringgreen', 'beige', 'linen', 'snow',
  'plum', 'dodgerblue', 'mintcream', 'ivory', 'peru', 'white',
  'thistle', 'aliceblue', 'springgreen', 'darkkhaki', 'peachpuff', 'whitesmoke',
  'mediumorchid', 'steelblue', 'mediumseagreen', 'khaki', 'sandybrown', 'gainsboro',
  'darkviolet', 'lightskyblue', 'seagreen', 'palegoldenrod', 'saddlebrown', 'lightgray',
  'darkorchid', 'skyblue', 'lime', 'lemonchiffon', 'chocolate', 'silver',
  'indigo', 'deepskyblue', 'green', 'gold', 'seashell', 'darkgray',
  'blueviolet', 'lightblue', 'darkgreen', 'cornsilk', 'sienna', 'gray',
  'rebeccapurple', 'powderblue', 'limegreen', 'darkgoldenrod', 'lightsalmon', 'dimgray',
  'mediumpurple', 'cadetblue', 'forestgreen', 'goldenrod', 'orangered', 'black',
  'mediumslateblue', 'aqua', 'palegreen',].forEach((color) => {
   var square = document.createElement("div")
   square.style.backgroundColor = square.innerText = color
   colorSquares.append(square)
  })

 window.addEventListener('mousedown', sliderDown);
 window.addEventListener('mouseup', function () {
  window.removeEventListener('mousemove', sliderMove);
 });

 colorInput.addEventListener('search', (e) => {
  curColor.setColor(colorInput.value)
  doRender(curColor)
 })

 function sliderDown(e) {
  if (e.target.parentNode === colorSquares) {
   curColor.setColor(e.target.style.backgroundColor);
   doRender(curColor)
  } else {
   currentTarget = e.target
   startPoint = {
    left: currentTarget.getBoundingClientRect().left + window.pageXOffset - document.body.clientLeft,
    top: currentTarget.getBoundingClientRect().top + window.pageYOffset - document.body.clientTop,
   }
   if (currentTarget.parentNode === sliderPanel) {
    colorPanel.className = currentTarget.id
   }
   sliderMove(e)
   window.addEventListener('mousemove', sliderMove);
  }
 }

 function sliderMove(e) {
  let channel, model,
   x = e.pageX - startPoint.left,
   y = currentTarget.offsetHeight + startPoint.top - e.pageY,
   w = currentTarget.offsetWidth,
   h = currentTarget.offsetHeight;
  if (currentTarget === sliderXAxis) {
   e.preventDefault()
   model = colorPanel.className.split("-")[0]
   channel = panelAxis[colorPanel.className].x
   curColor.setColor({ [channel]: x / w * valueRanges[model][channel] }, model);
   doRender(curColor)
  } else if (currentTarget === sliderYAxis) {
   e.preventDefault()
   model = colorPanel.className.split("-")[0]
   channel = panelAxis[colorPanel.className].y
   curColor.setColor({ [channel]: y / h * valueRanges[model][channel] }, model);
   doRender(curColor)
  } else if (currentTarget.className == "slider-h") {
   e.preventDefault();
   [model, channel] = currentTarget.id.split("-")
   curColor.setColor({ [channel]: x / w * valueRanges[model][channel] }, model);
   doRender(curColor)
  } else if (currentTarget.className == "slider-v") {
   e.preventDefault();
   [model, channel] = currentTarget.id.split("-");
   curColor.setColor({ [channel]: y / h * valueRanges[model][channel] }, model);
   doRender(curColor)
  } else if (currentTarget === colorWheel) {
   x = x - w / 2
   y = y - h / 2
   curColor.setColor({
    H: (y < 0 ? 360 : 0) + (Math.atan2(y, x) * 180 / Math.PI),
    S: (Math.sqrt((x * x) + (y * y)) / (w / 2)) * 100
   }, 'HSL');
   doRender(curColor)
  } else if (currentTarget === colorPanel) {
   model = currentTarget.className.split("-")[0]
   channel = currentTarget.className
   curColor.setColor({
    [panelAxis[channel].x]: (e.pageX - startPoint.left) / currentTarget.offsetWidth * valueRanges[model][panelAxis[channel].x],
    [panelAxis[channel].y]: (1 - (e.pageY - startPoint.top) / currentTarget.offsetHeight) * valueRanges[model][panelAxis[channel].y]
   }, model);
   doRender(curColor)
  }
 }

 function doRender(color) {
  let BG = color.background,
   color_color = `rgba(${color.RGB.R},${color.RGB.G},${color.RGB.B},${color.alpha})`,
   color_BG = `rgba(${BG.RGB.R},${BG.RGB.G},${BG.RGB.B},${BG.alpha})`,
   gradient_rgbR = `rgb(0,${color.RGB.G},${color.RGB.B}),rgb(255,${color.RGB.G},${color.RGB.B})`,
   gradient_rgbG = `rgb(${color.RGB.R},0,${color.RGB.B}),rgb(${color.RGB.R},255,${color.RGB.B})`,
   gradient_rgbB = `rgb(${color.RGB.R},${color.RGB.G},0),rgb(${color.RGB.R},${color.RGB.G},255)`,
   gradient_hsvS = `rgba(255,255,255,${color.hsv.v}), hsl(${color.HSL.H},100%,50%,${color.hsv.v})`,
   color_hsvV = `hsl(${color.HSV.H},100%,50%,${color.hsv.s})`,
   gradient_hsvH = `
hsl(  0,${color.HSL.S}%,${color.HSL.L}%),
hsl( 60,${color.HSL.S}%,${color.HSL.L}%),
hsl(120,${color.HSL.S}%,${color.HSL.L}%),
hsl(180,${color.HSL.S}%,${color.HSL.L}%),
hsl(240,${color.HSL.S}%,${color.HSL.L}%),
hsl(300,${color.HSL.S}%,${color.HSL.L}%),
hsl(360,${color.HSL.S}%,${color.HSL.L}%)`,
   gradient_hslS = `
hsl(${color.HSL.H},  0%,${color.HSL.L}%),
hsl(${color.HSL.H}, 10%,${color.HSL.L}%),
hsl(${color.HSL.H}, 20%,${color.HSL.L}%),
hsl(${color.HSL.H}, 30%,${color.HSL.L}%),
hsl(${color.HSL.H}, 40%,${color.HSL.L}%),
hsl(${color.HSL.H}, 50%,${color.HSL.L}%),
hsl(${color.HSL.H}, 60%,${color.HSL.L}%),
hsl(${color.HSL.H}, 70%,${color.HSL.L}%),
hsl(${color.HSL.H}, 80%,${color.HSL.L}%),
hsl(${color.HSL.H}, 90%,${color.HSL.L}%),
hsl(${color.HSL.H},100%,${color.HSL.L}%)`,
   gradient_hslL = `
hsl(${color.HSL.H},${color.HSL.S}%,  0%),
hsl(${color.HSL.H},${color.HSL.S}%, 10%),
hsl(${color.HSL.H},${color.HSL.S}%, 20%),
hsl(${color.HSL.H},${color.HSL.S}%, 30%),
hsl(${color.HSL.H},${color.HSL.S}%, 40%),
hsl(${color.HSL.H},${color.HSL.S}%, 50%),
hsl(${color.HSL.H},${color.HSL.S}%, 60%),
hsl(${color.HSL.H},${color.HSL.S}%, 70%),
hsl(${color.HSL.H},${color.HSL.S}%, 80%),
hsl(${color.HSL.H},${color.HSL.S}%, 90%),
hsl(${color.HSL.H},${color.HSL.S}%,100%)`


  colorSquares.style.backgroundColor = contrastPatch.style.backgroundColor = contrastPatch2Black.style.color = contrastPatch2White.style.color = color_color
  contrastPatch.children[0].innerText = contrastPatch.children[1].innerText =
   contrastPatch2White.children[0].innerText = contrastPatch2Black.children[0].innerText = '#' + color.HEX;
  contrastPatch2White.style.backgroundImage = contrastPatch2Black.style.backgroundImage = `linear-gradient(to right, ${color_BG} 50%, transparent 50%)`

  colorValues.innerText = `#${color.HEX} ${color.cssName || ''}
rgba(${color.RGB.R},${color.RGB.G},${color.RGB.B},${color.Alpha})
hsva(${color.HSV.H},${color.HSV.S},${color.HSV.V},${color.Alpha})
hsla(${color.HSL.H},${color.HSL.S},${color.HSL.L},${color.Alpha})
CMYK(${color.CMYK.C},${color.CMYK.M},${color.CMYK.Y},${color.CMYK.K})
CMY(${color.CMY.C},${color.CMY.M},${color.CMY.Y})
Lab(${color.Lab.L},${color.Lab.a},${color.Lab.b})`

  wrapper.className = color.Luminance > 0.22 ? 'dark' : 'light'

  sliderRgbR.style.backgroundImage = `linear-gradient(to right,${gradient_rgbR})`
  sliderRgbG.style.backgroundImage = `linear-gradient(to right,${gradient_rgbG})`
  sliderRgbB.style.backgroundImage = `linear-gradient(to right,${gradient_rgbB})`

  sliderHsvS.style.backgroundImage = `linear-gradient(to right,${gradient_hsvS})`
  sliderHsvV.style.backgroundColor = color_hsvV
  sliderHsvH.style.backgroundImage = `linear-gradient(to right,${gradient_hsvH})`

  sliderHslS.style.backgroundImage = `linear-gradient(to top,${gradient_hslS})`
  sliderHslL.style.backgroundImage = `linear-gradient(to top,${gradient_hslL})`


  sliderAlphaA.style.backgroundColor = color_BG
  sliderAlphaA.style.backgroundImage = `linear-gradient(to top, transparent, rgb(${color.RGB.R},${color.RGB.G},${color.RGB.B})`

  sliderRgbR.children[0].style.left = 100 * color.rgb.r + '%'
  sliderRgbG.children[0].style.left = 100 * color.rgb.g + '%'
  sliderRgbB.children[0].style.left = 100 * color.rgb.b + '%'
  sliderHsvH.children[0].style.left = 100 * color.hsv.h + '%'
  sliderHsvS.children[0].style.left = 100 * color.hsv.s + '%'
  sliderHsvV.children[0].style.left = 100 * color.hsv.v + '%'
  sliderHslS.children[0].style.top = 100 * (1 - color.hsl.s) + '%'
  sliderHslL.children[0].style.top = 100 * (1 - color.hsl.l) + '%'
  sliderAlphaA.children[0].style.top = 100 * (1 - color.alpha) + '%'

  colorWheelCover.style.opacity = Math.abs(1 - 2 * color.hsl.l);
  colorWheelCover.style.backgroundColor = color.hsl.l > 0.5 ? "#fff" : "#000"

  var x = Math.cos(Math.PI * 2 - color.hsl.h * Math.PI * 2),
   y = Math.sin(Math.PI * 2 - color.hsl.h * Math.PI * 2),
   r = color.hsl.s * colorWheelRadius;

  colorWheelCursor.style.left = (x * r + colorWheelRadius) + 'px'
  colorWheelCursor.style.top = (y * r + colorWheelRadius) + 'px'

  sliderXAxis.children[0].style.left =
   colorPanelCursor.style.left = 100 * color[colorPanel.className.split("-")[0].toLocaleLowerCase()][panelAxis[colorPanel.className].x.toLocaleLowerCase()] + '%'
  sliderYAxis.children[0].style.top =
   colorPanelCursor.style.top = 100 * (1 - color[colorPanel.className.split("-")[0].toLocaleLowerCase()][panelAxis[colorPanel.className].y.toLocaleLowerCase()]) + '%'

  if (colorPanel.className == 'RGB-R') {
   colorPanel.style.backgroundColor = `rgb(${color.RGB.R},0,0)`
   sliderXAxis.style.backgroundImage = `linear-gradient(to right,${gradient_rgbG})`
   sliderYAxis.style.backgroundImage = `linear-gradient(to top,  ${gradient_rgbB})`
  }
  if (colorPanel.className == 'RGB-G') {
   colorPanel.style.backgroundColor = `rgb(0,${color.RGB.G},0)`
   sliderXAxis.style.backgroundImage = `linear-gradient(to right,${gradient_rgbB})`
   sliderYAxis.style.backgroundImage = `linear-gradient(to top,  ${gradient_rgbR})`
  }
  if (colorPanel.className == 'RGB-B') {
   colorPanel.style.backgroundColor = `rgb(0,0,${color.RGB.B})`
   sliderXAxis.style.backgroundImage = `linear-gradient(to right,${gradient_rgbR})`
   sliderYAxis.style.backgroundImage = `linear-gradient(to top,  ${gradient_rgbG})`
  }
  if (colorPanel.className == 'HSV-H') {
   colorPanel.style.backgroundColor = `hsl(${color.HSL.H},100%,50%)`;
   sliderXAxis.style.backgroundColor = '#000'
   sliderXAxis.style.backgroundImage = `linear-gradient(to right, ${gradient_hsvS})`
   sliderYAxis.style.backgroundColor = color_hsvV
   sliderYAxis.style.backgroundImage = `linear-gradient(to top, #000, transparent)`
  };
  if (colorPanel.className == 'HSV-S') {
   colorPanel.style.backgroundColor = `hsl(0,0%,${100 - color.HSV.S}%)`
   sliderXAxis.style.backgroundImage = `linear-gradient(to right,${gradient_hsvH})`
   sliderYAxis.style.backgroundColor = color_hsvV
   sliderYAxis.style.backgroundImage = `linear-gradient(to top, #000, transparent)`
  }
  if (colorPanel.className == 'HSV-V') {
   colorPanel.style.backgroundColor = `hsl(0,0%,${color.HSV.V}%)`
   sliderXAxis.style.backgroundImage = `linear-gradient(to right,${gradient_hsvH})`
   sliderYAxis.style.backgroundColor = '#000'
   sliderYAxis.style.backgroundImage = `linear-gradient(to top,  ${gradient_hsvS})`
  }
 }
 doRender(curColor);
})()</script> </body> </html> 
